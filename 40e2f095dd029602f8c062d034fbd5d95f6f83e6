{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ba5f80f6_e58b4501",
        "filename": "conf/obmc-console-ssh@.service.d/use-socket.conf.in",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2023-03-29T02:20:29Z",
      "side": 1,
      "message": "Thinking about this further and in light of the other comment I made, I think we just put this line in `conf/obmc-console-ssh@.service.in` and leave this file unchanged.",
      "revId": "40e2f095dd029602f8c062d034fbd5d95f6f83e6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "541a14de_d5a1b6f0",
        "filename": "conf/obmc-console-ssh@.service.d/use-socket.conf.in",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-03-30T23:30:00Z",
      "side": 1,
      "message": "This is a solution we decided for the case where dropbear doesn\u0027t go through the regular services. For example on witherspoon port number is passed through socket and not through the service config.",
      "parentUuid": "ba5f80f6_e58b4501",
      "revId": "40e2f095dd029602f8c062d034fbd5d95f6f83e6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1be5cb0f_7285d534",
        "filename": "conf/obmc-console-ssh@.service.in",
        "patchSetId": 4
      },
      "lineNbr": 9,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2023-03-29T02:15:13Z",
      "side": 1,
      "message": "I\u0027m wondering whether we save ourselves some complication in the patch to openbmc/openbmc by dropping `EnvironmentFile\u003d/etc/default/dropbear`. A quick analysis in the tree with respect to `DROPBEAR_EXTRA_ARGS`:\n\n```\n2 05:22:55 andrew@fedora:~/src/openbmc/openbmc ((e6970b4909a2...)) $ git grep ^DROPBEAR_EXTRA_ARGS\u003d\nmeta-google/recipes-core/dropbear/dropbear/dropbear.default:DROPBEAR_EXTRA_ARGS\u003d\"\"\nmeta-phosphor/recipes-core/dropbear/dropbear/dropbear.default:DROPBEAR_EXTRA_ARGS\u003d\"-G priv-admin\"\nmeta-yadro/recipes-core/dropbear/dropbear/dropbear.default:DROPBEAR_EXTRA_ARGS\u003d\"\"\npoky/meta/recipes-core/dropbear/dropbear/dropbear.default:DROPBEAR_EXTRA_ARGS\u003d\"-w\"\npoky/meta/recipes-core/dropbear/dropbear/init:DROPBEAR_EXTRA_ARGS\u003d\n2 05:23:04 andrew@fedora:~/src/openbmc/openbmc ((e6970b4909a2...)) $ \n```\n\nNo-one seems to set anything significant in it, save for `-G priv-admin` from `meta-phosphor`.\n\nLet\u0027s leave `/etc/default/dropbear` to the domain of `dropbear@.service` and set the expectation that for the purpose of obmc-console, any variables should be specified only by `/etc/default/obmc-console-client` or `/etc/obmc-console/dropbear.%i.env` (and not `/etc/default/dropbear`).",
      "revId": "40e2f095dd029602f8c062d034fbd5d95f6f83e6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "62c1362d_82070c24",
        "filename": "conf/obmc-console-ssh@.service.in",
        "patchSetId": 4
      },
      "lineNbr": 9,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-03-30T23:30:00Z",
      "side": 1,
      "message": "I am not sure whether we can remove it as there are some recipies which are using the default file.\n\nmeta-ampere/meta-jade/recipes-phosphor/console/obmc-console/obmc-console-ttyS2-ssh@.service:EnvironmentFile\u003d/etc/default/dropbear\nmeta-ampere/meta-jade/recipes-phosphor/console/obmc-console/obmc-console-ttyS1-ssh@.service:EnvironmentFile\u003d/etc/default/dropbear\nmeta-ampere/meta-jade/recipes-phosphor/console/obmc-console/obmc-console-ttyS3-ssh@.service:EnvironmentFile\u003d/etc/default/dropbear\nmeta-ampere/meta-jade/recipes-phosphor/console/obmc-console/obmc-console-ttyS0-ssh@.service:EnvironmentFile\u003d/etc/default/dropbear\nmeta-ampere/meta-mitchell/recipes-phosphor/console/obmc-console/obmc-console-ttyS8-ssh@.service:EnvironmentFile\u003d/etc/default/dropbear\nmeta-ampere/meta-mitchell/recipes-phosphor/console/obmc-console/obmc-console-ttyS2-ssh@.service:EnvironmentFile\u003d/etc/default/dropbear\nmeta-ampere/meta-mitchell/recipes-phosphor/console/obmc-console/obmc-console-ttyS1-ssh@.service:EnvironmentFile\u003d/etc/default/dropbear\nmeta-ampere/meta-mitchell/recipes-phosphor/console/obmc-console/obmc-console-ttyS7-ssh@.service:EnvironmentFile\u003d/etc/default/dropbear\nmeta-ampere/meta-mitchell/recipes-phosphor/console/obmc-console/obmc-console-ttyS3-ssh@.service:EnvironmentFile\u003d/etc/default/dropbear\nmeta-ampere/meta-mitchell/recipes-phosphor/console/obmc-console/obmc-console-ttyS0-ssh@.service:EnvironmentFile\u003d/etc/default/dropbear",
      "parentUuid": "1be5cb0f_7285d534",
      "revId": "40e2f095dd029602f8c062d034fbd5d95f6f83e6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}