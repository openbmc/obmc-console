{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "3383f69e_d67f8aef",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2022-03-30T09:24:33Z",
      "side": 1,
      "message": "Very clean, I like it!",
      "revId": "45ba2f9828bd0f9baf6c2f49c5489ec8b0db09ee",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8a969de0_da069234",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000733
      },
      "writtenOn": "2022-03-30T11:57:12Z",
      "side": 1,
      "message": "One last tiny nitpick that could be addressed, but it basically looks good to me.",
      "revId": "45ba2f9828bd0f9baf6c2f49c5489ec8b0db09ee",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "512c99bf_e7a3d196",
        "filename": "log-handler.c",
        "patchSetId": 3
      },
      "lineNbr": 65,
      "author": {
        "id": 1000733
      },
      "writtenOn": "2022-03-30T11:15:48Z",
      "side": 1,
      "message": "One other thing that just occurred to me...is 0644 the right mode to be passing here?  I suspect in most existing deployments OpenBMC effectively runs as a single-user system (with nearly all processes running as root), but I think there are some efforts underway working towards changing that, which makes me wonder if maybe it shouldn\u0027t be world-readable.  Maybe 0600 instead?",
      "revId": "45ba2f9828bd0f9baf6c2f49c5489ec8b0db09ee",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c33511bb_6cbed657",
        "filename": "log-handler.c",
        "patchSetId": 3
      },
      "lineNbr": 65,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2022-03-30T23:56:08Z",
      "side": 1,
      "message": "That\u0027s fairly straightforward to apply globally with a umask.\n\nHowever, I haven\u0027t had much traction with the security folks about this kind of thing; filesystem access has been considered to be protected to privileged users anyway, so I don\u0027t think this would be a high priority.\n\nBut yep, not something to address in this patch.",
      "parentUuid": "512c99bf_e7a3d196",
      "revId": "45ba2f9828bd0f9baf6c2f49c5489ec8b0db09ee",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d3d1dc71_0561e9f8",
        "filename": "log-handler.c",
        "patchSetId": 3
      },
      "lineNbr": 153,
      "author": {
        "id": 1000733
      },
      "writtenOn": "2022-03-30T11:15:48Z",
      "side": 1,
      "message": "And likewise here, though arguably it\u0027s tangential to this particular patch and should be done separately.",
      "revId": "45ba2f9828bd0f9baf6c2f49c5489ec8b0db09ee",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "22d80825_dffb7501",
        "filename": "log-handler.c",
        "patchSetId": 3
      },
      "lineNbr": 153,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2022-03-30T11:32:13Z",
      "side": 1,
      "message": "Right, if we are going to change the mode, let\u0027s do it in a separate patch.",
      "parentUuid": "d3d1dc71_0561e9f8",
      "revId": "45ba2f9828bd0f9baf6c2f49c5489ec8b0db09ee",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0fd91850_d327d3e3",
        "filename": "log-handler.c",
        "patchSetId": 3
      },
      "lineNbr": 162,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2022-03-31T04:53:14Z",
      "side": 1,
      "message": "We\u0027re building without specifying -std\u003d and are using gcc, so we default to -std\u003dgnu17. Given that we can use asprintf() (we should also be more explicit about what C dialect the source is written in, but that\u0027s a problem for a different patch).\n\nFurther, \"%s%s\" is a bit much when the second string is also a constant. We can just use:\n\n rc \u003d asprintf(\u0026lh-\u003erotate_filename, \"%s.1\", filename);\n if (rc \u003c 0) { ...",
      "range": {
        "startLine": 160,
        "startChar": 1,
        "endLine": 162,
        "endChar": 76
      },
      "revId": "45ba2f9828bd0f9baf6c2f49c5489ec8b0db09ee",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "58400465_58c98e68",
        "filename": "log-handler.c",
        "patchSetId": 3
      },
      "lineNbr": 178,
      "author": {
        "id": 1000733
      },
      "writtenOn": "2022-03-30T11:57:12Z",
      "side": 1,
      "message": "`free(NULL)` is guaranteed to be a safe no-op, so the `if` checks here could be removed.",
      "revId": "45ba2f9828bd0f9baf6c2f49c5489ec8b0db09ee",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cbd665cf_4e9fd984",
        "filename": "log-handler.c",
        "patchSetId": 3
      },
      "lineNbr": 178,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2022-03-31T04:53:14Z",
      "side": 1,
      "message": "Yeah, I prefer we clean that up now.",
      "parentUuid": "58400465_58c98e68",
      "revId": "45ba2f9828bd0f9baf6c2f49c5489ec8b0db09ee",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}